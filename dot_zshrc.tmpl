{{ if (eq .chezmoi.os "linux") }}
{{   if (.chezmoi.kernel.osrelease | lower | contains "microsoft") }}
## Windows WSL Configuration
# Load Antigen
source "$HOME/.antigen.zsh"
alias clip='clip.exe'

{{   end }}
{{ end }}
{{ if (eq .chezmoi.os "darwin") }}
## OSX Configuration
source /usr/local/share/antigen/antigen.zsh

{{ end }}
## Common Configuration
# Load Antigen configurations
antigen init ~/.antigenrc


# Set Starship Prompt
export STARSHIP_CONFIG=$HOME/.config/starship/config.toml
eval "$(starship init zsh)"

# Init pyenv
if command -v pyenv 1>/dev/null 2>&1; then
  export PYENV_ROOT="$HOME/.pyenv"
  export PATH="$PYENV_ROOT/bin:$HOME/.local/bin:$PATH"
  eval "$(pyenv init -)"
fi

# Init nodenv
eval "$(nodenv init -)"

export NODENV_ROOT="$HOME/.nodenv"
export PATH="$NODENV_ROOT/versions/$(nodenv version-name)/bin/:/usr/local/bin/aws_completer:$PATH"

autoload bashcompinit && bashcompinit
autoload -Uz compinit && compinit
compinit
complete -C '/usr/local/bin/aws_completer' aws

if [[ -a ~/.config/bw/.bwrc ]]; then
  source ~/.config/bw/.bwrc
fi

# Alias
alias brew-dump="mv ~/Brewfile ~/Brewfile.bk && brew bundle dump"
alias bw-unlock='export BW_SESSION=$(bw unlock --raw)'
function bws () { bw list items --search $1 | jq }

